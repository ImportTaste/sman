ssh:ed:
  do: exec
  command: ssh khcheung@edison.nersc.gov
ssh:co:
  do: exec
  command: ssh khcheung@cori.nersc.gov
ssh:go:
  do: exec
  command: ssh khcheung@gordita.physics.berkeley.edu
ssh:to:
  do: exec
  desc: ssh to Tostada, assume on Gordita.
  command: ssh 192.168.1.80
ssh:sp:
  do: exec
  desc: ssh to Stampede from XSEDE
  command: ssh tg839817@stampede.tacc.xsede.org
ssh:xd:
  do: exec
  command: ssh -l khcheung login.xsede.org
gsisp:
  do: exec
  command: gsissh stampede

# ssh/mosh for private ip
lpc:
  do: exec
  desc: connect to lpc
  command: <<command(ssh,mosh)>> kolen@<<host(128.32.117.64,172.22.2.7)>>
3650:
  do: exec
  desc: connect to 3650
  command: <<command(ssh,mosh)>> kolen@<<host(128.32.117.119,172.22.2.5)>>
server:
  do: exec
  desc: connect to server
  command: <<command(ssh,mosh)>> kolen@<<host(192.168.1.113,172.22.2.8)>>
desktop:
  do: exec
  desc: connect to desktop
  command: <<command(ssh,mosh)>> kolen@<<host(192.168.1.102,172.22.2.3)>>
mbp:
  do: exec
  desc: connect to mbp
  command: <<command(ssh,mosh)>> kolen@<<host(192.168.1.111,172.22.2.4)>>


ssh:tunnel:
  do: exec
  desc: tunnel a port from client to server (-R to reverse). 8080-snakeviz; 8989-Juptyer; 8096-emby; 52698-rmate.
  command: ssh -N -<<direction(L,R)>> localhost:<<port(8080,8989,8096,52698)>>:localhost:<<port>> <<URL(khcheung@cori.nersc.gov,khcheung@edison.nersc.gov,khcheung@gordita.physics.berkeley.edu)>>

ssh:co:sqs:
  do: exec
  command: ssh khcheung@cori.nersc.gov sqs
ssh:ed:sqs:
  do: exec
  command: ssh khcheung@edison.nersc.gov '/usr/common/software/python/3.6-anaconda-4.4/bin/python -E /usr/common/software/bin/sqs'

rsync:
  do: exec
  command: rsync -avmz --delete --stats --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore <<inDir>> <<outDir>>
rsync:to:co:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore <<inDir>> khcheung@cori.nersc.gov:<<outDir>>
rsync:fm:co:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore khcheung@cori.nersc.gov:<<inDir>> <<outDir>>
rsync:to:ed:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore <<inDir>> khcheung@edison.nersc.gov:<<outDir>>
rsync:fm:ed:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore khcheung@edison.nersc.gov:<<inDir>> <<outDir>>

rsync:to:go:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore <<inDir>> khcheung@gordita.physics.berkeley.edu:<<outDir>>
rsync:fm:go:
  do: exec
  command: rsync -avmz --delete --stats -e ssh --cvs-exclude --exclude='.DS_Store' --exclude .git/ --exclude .gitignore khcheung@gordita.physics.berkeley.edu:<<inDir>> <<outDir>>

sshfs:co:
  do: exec
  command: sudo sshfs -o IdentityFile=~/.ssh/id_rsa,allow_other,defer_permissions,volname=cori khcheung@cori.nersc.gov:/ /mnt/cori/
sshfs:ed:
  do: exec
  command: sudo sshfs -o IdentityFile=~/.ssh/id_rsa,allow_other,defer_permissions,volname=edison khcheung@edison.nersc.gov:/ /mnt/edison/
sshfs:go:
  do: exec
  command: sudo sshfs -o IdentityFile=~/.ssh/id_rsa,allow_other,defer_permissions,volname=gordita khcheung@gordita.physics.berkeley.edu:/ /mnt/gordita/

sshfs:mkdir:
  do: exec
  command: sudo mkdir -p /mnt/<<host(cori,edison,gordita)>>/
sshfs:umount:
  do: exec
  command: sudo umount -f /mnt/<<host(cori,edison,gordita)>>/
sshfs:kill:
  do: exec
  command: sudo pkill -9 sshfs
sshfs:pgrep:
  do: exec
  desc: show running sshfs processes.
  command: pgrep -lf sshfs
